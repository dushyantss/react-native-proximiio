{"version":3,"sources":["context.tsx"],"names":["ProximiioContext","React","createContext","Proximiio","getContext","ProximiioContextProvider","children","context","setContext","contextSetter","subscribe","ProximiioEvents","PositionUpdated","FloorChanged","unsubscribe"],"mappings":"2ZAAA,qDACA,uD,4EAKO,GAAMA,CAAAA,gBAAgB,CAAGC,eAAMC,aAAN,CAAoBC,eAAUC,UAAV,EAApB,CAAzB,C,0CAEA,GAAMC,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,MAER,IAD9BC,CAAAA,QAC8B,MAD9BA,QAC8B,eACA,oBAAS,EAAT,CADA,qDACvBC,OADuB,eACdC,UADc,eAG9B,qBAAU,UAAM,CACd,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1BD,UAAU,CAACL,eAAUC,UAAV,EAAD,CAAV,CACD,CAFD,CAGAD,eAAUO,SAAV,CAAoBC,uBAAgBC,eAApC,CAAqDH,aAArD,EACAN,eAAUO,SAAV,CAAoBC,uBAAgBE,YAApC,CAAkDJ,aAAlD,EAEA,MAAO,WAAM,CACXN,eAAUW,WAAV,CAAsBH,uBAAgBC,eAAtC,CAAuDH,aAAvD,EACAN,eAAUW,WAAV,CAAsBH,uBAAgBE,YAAtC,CAAoDJ,aAApD,EACD,CAHD,CAID,CAXD,CAWG,EAXH,EAaA,MACE,8BAAC,gBAAD,CAAkB,QAAlB,EAA2B,KAAK,CAAEF,OAAlC,gEACGD,QADH,CADF,CAKD,CAvBM,C,uEAyBQN,gB","sourcesContent":["import React, { PropsWithChildren, useEffect, useState } from 'react';\nimport Proximiio, { ProximiioEvents } from './index';\nimport { ProximiioContextType } from './types';\n\ninterface Props {}\n\nexport const ProximiioContext = React.createContext(Proximiio.getContext());\n\nexport const ProximiioContextProvider = ({\n  children,\n}: PropsWithChildren<Props>) => {\n  const [context, setContext] = useState({} as ProximiioContextType);\n\n  useEffect(() => {\n    const contextSetter = () => {\n      setContext(Proximiio.getContext());\n    };\n    Proximiio.subscribe(ProximiioEvents.PositionUpdated, contextSetter);\n    Proximiio.subscribe(ProximiioEvents.FloorChanged, contextSetter);\n\n    return () => {\n      Proximiio.unsubscribe(ProximiioEvents.PositionUpdated, contextSetter);\n      Proximiio.unsubscribe(ProximiioEvents.FloorChanged, contextSetter);\n    };\n  }, []);\n\n  return (\n    <ProximiioContext.Provider value={context}>\n      {children}\n    </ProximiioContext.Provider>\n  );\n};\n\nexport default ProximiioContext;\n"]}