"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.ProximiioContextProvider=exports.ProximiioContext=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _index=_interopRequireWildcard(require("./index"));var _jsxFileName="/Users/wired/mika/react-native-proximiio/src/context.tsx";var ProximiioContext=_react.default.createContext(_index.default.getContext());exports.ProximiioContext=ProximiioContext;var ProximiioContextProvider=function ProximiioContextProvider(_ref){var children=_ref.children;var _useState=(0,_react.useState)({}),_useState2=(0,_slicedToArray2.default)(_useState,2),context=_useState2[0],setContext=_useState2[1];(0,_react.useEffect)(function(){var contextSetter=function contextSetter(){setContext(_index.default.getContext());};_index.default.subscribe(_index.ProximiioEvents.PositionUpdated,contextSetter);_index.default.subscribe(_index.ProximiioEvents.FloorChanged,contextSetter);return function(){_index.default.unsubscribe(_index.ProximiioEvents.PositionUpdated,contextSetter);_index.default.unsubscribe(_index.ProximiioEvents.FloorChanged,contextSetter);};},[]);return _react.default.createElement(ProximiioContext.Provider,{value:context,__source:{fileName:_jsxFileName,lineNumber:28,columnNumber:5}},children);};exports.ProximiioContextProvider=ProximiioContextProvider;var _default=ProximiioContext;exports.default=_default;
//# sourceMappingURL=context.js.map